@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@400;500;600;700&display=swap');

:root {
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;

  /* Trace.Market design tokens */
  --background:        158 22% 16%;
  --foreground:        160 30% 10%;
  --card:              0 0% 100%;
  --card-foreground:   160 30% 10%;
  --primary:           158 64% 32%;
  --primary-fg:        0 0% 100%;
  --secondary:         150 25% 94%;
  --secondary-fg:      160 30% 15%;
  --muted:             150 15% 92%;
  --muted-fg:          160 10% 45%;
  --accent:            152 76% 42%;
  --accent-fg:         0 0% 100%;
  --border:            150 20% 88%;
  --destructive:       0 72% 51%;

  --radius: 0.5rem;
  --shadow-md: 0 4px 12px hsl(160 30% 10% / 0.12);
  --shadow-lg: 0 8px 24px hsl(160 30% 10% / 0.15);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html,
body,
#app {
  width: 100vw;
  height: 100vh;
  margin: 0;
  padding: 0;
  overflow: hidden;
  overscroll-behavior: none;
  -webkit-text-size-adjust: 100%;
  background: hsl(var(--background));
  color: hsl(var(--foreground));
}

body {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}

/* Hide BaklavaJS sidebar */
.baklava-sidebar {
  display: none !important;
}

/* Ensure editor takes full width without sidebar */
.baklava-editor {
  width: 100% !important;
  grid-template-columns: 1fr !important;
  touch-action: none;
}

.baklava-editor,
.baklava-editor .node-container {
  touch-action: none;
}

/* Hide toolbar with subgraph commands */
.baklava-toolbar {
  display: none !important;
}

/* Hide subgraph input/output nodes from being added */
.baklava-node-palette {
  display: none !important;
}

/* Fix ResourceNode width - override BaklavaJS default full-width */
[data-node-type="ResourceNode"] {
  width: auto !important;
  max-width: 200px !important;
}

.baklava-node > .__title,
.baklava-node > .__title > .__title-label,
.baklava-node > .__title > .__menu {
  display: none !important;
  height: 0 !important;
  padding: 0 !important;
  margin: 0 !important;
}

.baklava-editor .background {
  display: none !important;
}

.baklava-editor .node-container {
  pointer-events: none;
  z-index: 1;
}

.baklava-editor .node-container .baklava-node {
  pointer-events: auto;
}

/*
 * Connection lines: .connections-container IS the <svg> element (not a wrapper div).
 * So target paths directly inside it, not inside a nested svg.
 */
.baklava-editor .connections-container {
  pointer-events: none;
  z-index: 2 !important;
  position: absolute !important;
  overflow: visible !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  height: 100% !important;
}

/* Style connection paths - .connections-container IS the svg */
.baklava-connection {
  stroke: hsl(152, 76%, 42%) !important;
  stroke-width: 2.5 !important;
  stroke-linecap: round !important;
  stroke-linejoin: round !important;
  fill: none !important;
  opacity: 1 !important;
  visibility: visible !important;
}

/* Port dots */
.__port {
  background: hsl(158, 64%, 32%) !important;
  border-color: hsl(158, 64%, 32%) !important;
}

/* Aggressively hide all subgraph-related nodes */
[data-node-type="SubgraphInputNode"],
[data-node-type="SubgraphOutputNode"],
[data-node-type="__baklava_SubgraphInputNode"],
[data-node-type="__baklava_SubgraphOutputNode"],
[class*="subgraph-input"],
[class*="subgraph-output"],
[class*="SubgraphInput"],
[class*="SubgraphOutput"] {
  display: none !important;
  visibility: hidden !important;
  position: absolute !important;
  left: -9999px !important;
}
